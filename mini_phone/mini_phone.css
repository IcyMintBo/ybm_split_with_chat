#mini-phone-root {
  /* ✅ 关键：不要 fixed，不要 inset:0 —— 否则按全屏算 */
  position: relative;
  width: 100%;
  height: 100%;
  z-index: 9999;

  display: flex;
  align-items: center;
  justify-content: center;

  --mp-scale: 1;
  /* 这里调大小 */
}

.phone-shell {
  position: relative;

  /* ✅ 让壳子按 overlay 容器缩放，而不是写死比例 */
  width: 100%;
  height: 100%;
  max-width: 380px;
  /* 你想更小就改这里，比如 360px */
  max-height: 80vh;

  /* ✅ 用你的底图比例（beijin.png：1369x2416）避免拉伸 */
  aspect-ratio: 1369 / 2416;

  overflow: visible;

  transform: scale(var(--mp-scale, 0.78));
  transform-origin: center;
}

.phone-bg{
  width: 100%;
  height: 100%;
  object-fit: cover;      /* ✅ 关键：不留空白 */
  object-position: center;
  pointer-events: none;
}



/* 左下角小人 */
.phone-ren {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 90px;
  pointer-events: none;
}

/* 左侧图标 */
.phone-left-icons {
  position: absolute;
  left: 14px;
  top: 120px;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.phone-left-icons img {
  width: 36px;
  cursor: pointer;
}

/* 底部图标 */
.phone-bottom-icons {
  position: absolute;
  bottom: 18px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 60px;
}

.phone-bottom-icons img {
  width: 42px;
  cursor: pointer;
}

/* 内容区（米白屏幕内） */
.phone-content {
  position: absolute;
  top: 80px;
  left: 50px;
  right: 30px;
  bottom: 90px;
}

/* 页面：做成 App 弹出覆盖动画 */
.page{
  position: absolute;
  inset: 0;

  display: block;        /* 不用 display none */
  opacity: 0;
  pointer-events: none;

  /* 从点击点弹出（JS 写 --app-x/--app-y） */
  transform: translate(var(--app-x, 0px), var(--app-y, 0px)) scale(0.12);
  transform-origin: 0 0;
  transition: transform .26s ease, opacity .18s ease;
  will-change: transform, opacity;

  font-size: 18px;
  color: #666;
}

.page.active{
  opacity: 1;
  pointer-events: auto;
  transform: translate(0px, 0px) scale(1);
}

/* 主界面：默认可见；进入 app 时会被淡出（更像覆盖） */
.page.page-home{
  opacity: 1;
  pointer-events: auto;
  transform: none;
}

.phone-ren {
  position: absolute;
  z-index: 2;
}

/* =========================
   位置/大小参数区
   ========================= */
/* 底图（一般不动） */
.phone-bg {
  transform: translate(var(--bg-x, 0px), var(--bg-y, 0px));
  width: var(--bg-w, 100%);
  height: var(--bg-h, 100%);
}

/* 左下角贴纸小人 */
.phone-ren {
  left: var(--ren-left, 0.2%);
  bottom: var(--ren-bottom, -4.2%);
  width: var(--ren-w, 18%);
  transform: scale(var(--ren-scale, 2.5));
  /* 单独给小人一个缩放 */
  transform-origin: left bottom;
}

/* =========================
    左侧：在指定高度内“均分”
   ========================= */
.phone-left-icons {
  left: var(--left-icons-x, 10%);
  top: var(--left-icons-y, 30%);
  transform: scale(var(--ren-scale, 1.7));

  /* 均分关键 */
  display: flex;
  flex-direction: column;
  justify-content: space-between;

  /* 可控：均分的“总高度” */
  height: var(--left-icons-h, 120px);

  /* 可选：限制最大/最小高度，防止太挤/太散 */
  min-height: var(--left-icons-min-h, 50px);
  max-height: var(--left-icons-max-h, 320px);

  /* space-between 就别再用 gap 了 */
  gap: 0;
}

.phone-left-icons img {
  width: var(--left-icon-size, 34px);
  height: auto;

  /* 修正：左侧图标用 left-icon-scale */
  transform-origin: left center;
}

/* =========================
   底部：在指定宽度内“均分”
   ========================= */
.phone-bottom-icons {
  left: var(--bottom-icons-x, 60%);
  bottom: var(--bottom-icons-y, 6%);

  /* 均分关键 */
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;

  /* 可控：均分的“总宽度” */
  width: var(--bottom-icons-w, 150px);

  /* 可选：限制最大/最小宽度 */
  min-width: var(--bottom-icons-min-w, 100px);
  max-width: var(--bottom-icons-max-w, 360px);

  gap: 0;
}

.phone-bottom-icons img {
  width: var(--bottom-icon-size, 46px);
  height: auto;

  transform: scale(var(--bottom-icon-scale, 1.2));
  transform-origin: center center;
}

/* 内容区（主界面文字那块）*/
.phone-content {
  left: var(--content-left, 18%);
  top: var(--content-top, 14%);
  width: var(--content-w, 70%);
  height: var(--content-h, 74%);
}
/* ============ 返回按钮 ============ */
.phone-shell{ position: relative; }

.phone-back{
  position: absolute;
  left: 25px;
  top: 45px;
  z-index: 999;

  padding: 6px 10px;
  margin: 0;

  background: transparent;
  border: none;
  box-shadow: none;

  font-size: 16px;
  font-weight: 700;        /* 加粗“返回” */
  color: rgba(0,0,0,.8);

  cursor: pointer;
  line-height: 1;
}

.phone-back.hidden{
  display: none;
}

.phone-back.hidden{ display:none; }

/* ✅ 只要不是主界面就隐藏小人 */
.phone-shell:not(.is-home) .phone-ren{ display:none; }

/* ============ App 打开效果 ============ */
/* 内容区作为“屏幕”，我们在里面让页面弹出覆盖 */
.phone-content{
  position: absolute; /* 你本来就是 absolute，这里兜底 */
  overflow: hidden;   /* ✅ 像手机屏幕一样裁切 */
}

/* 所有页面都做成覆盖层 */
.page{
  position: absolute;
  inset: 0;
  display: block;        /* 不再用 display:none 切换 */
  opacity: 0;
  pointer-events: none;

  transform: translate(var(--app-x, 0px), var(--app-y, 0px)) scale(0.20);
  transform-origin: 0 0; /* 由 JS 设置为点击点 */
  transition: transform .22s ease, opacity .18s ease;
  will-change: transform, opacity;
}

/* 当前激活页：可见 + 可交互 */
.page.active{
  opacity: 1;
  pointer-events: auto;
  transform: translate(0px, 0px) scale(1);
}

/* 让主界面“常驻在底层”，避免闪 */
.page.page-home{
  opacity: 1;
  pointer-events: auto;
  transform: none;
}

/* 当不在 home 时，让 home 不吃点击（但仍在底层显示也可以，你想纯白也行） */
.phone-shell:not(.is-home) .page.page-home{
  opacity: 0;            /* ✅ 非 home 时主界面淡出（更像 app 覆盖） */
  pointer-events: none;
}
/* ✅ 非主界面：隐藏所有导航图标（像真正 App 覆盖） */
.phone-shell:not(.is-home) .phone-left-icons,
.phone-shell:not(.is-home) .phone-bottom-icons{
  opacity: 0;
  pointer-events: none;
}

/* ✅ 可选：给它一个淡出动画更像系统 */
.phone-left-icons,
.phone-bottom-icons{
  transition: opacity .18s ease;
}
/* ============ stage：跟随底图 contain 后的可视框 ============ */
/* phone-shell 已经是 position:relative 了，这里兜底 */
.phone-shell{ position: relative; }

/* 底图保持 contain */
.phone-bg{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit: contain;
  object-position: center;
  z-index: 1;
  pointer-events: none;
}

/* stage：由 JS 写入 --stage-x/y/w/h，保证手机端/电脑端精准对齐 */
.phone-stage{
  position: absolute;
  left: var(--stage-x, 0px);
  top: var(--stage-y, 0px);
  width: var(--stage-w, 100%);
  height: var(--stage-h, 100%);
  z-index: 2;

  /* ✅ 关键：让子元素 absolute 都相对 stage */
  pointer-events: none; /* 默认不吃点击，下面对图标/按钮单独开 */
}

/* 让可点击的元素能点 */
.phone-stage .phone-left-icons,
.phone-stage .phone-bottom-icons,
.phone-stage .phone-back,
.phone-stage .page{
  pointer-events: auto;
}

/* 返回按钮（左上角） */
.phone-back{
  position: absolute;
  left: 18px;
  top: 18px;
  z-index: 999;

  background: transparent;
  border: none;
  padding: 0;
  margin: 0;

  font-size: 16px;
  font-weight: 700;
  color: rgba(0,0,0,.8);
  cursor: pointer;
}
.phone-back.hidden{ display:none; }

/* 非主界面：隐藏小人 + 隐藏导航图标（更像真实 app 覆盖） */
.phone-shell:not(.is-home) .phone-ren{ display:none; }
.phone-shell:not(.is-home) .phone-left-icons,
.phone-shell:not(.is-home) .phone-bottom-icons{
  opacity: 0;
  pointer-events: none;
}
.phone-left-icons,
.phone-bottom-icons{ transition: opacity .18s ease; }

/* 内容区像屏幕：裁切 app 页面 */
.phone-content{ overflow: hidden; }
